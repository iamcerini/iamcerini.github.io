var data = [
    {
        "File": "SomaNoodles.jpg",
        "Title": "Soma Noodles",
        "Caption": "Inspired by the science fiction survival horror SOMA (Frictional Games)",
        "Orientation": "portrait",
        "Year": "2016",
        "Filter": "pm"
    },
    {
        "File": "Sprout.jpg",
        "Title": "Sprout",
        "Caption": "",
        "Orientation": "portrait",
        "Year": "2016",
        "Filter": "pm"
    },
    {
        "File": "StillLife.jpg",
        "Title": "Still Life",
        "Caption": "",
        "Orientation": "portrait",
        "Year": "2012",
        "Filter": "pm"
    },
    {
        "File": "HumanCard.jpg",
        "Title": "Human",
        "Caption": "",
        "Orientation": "portrait",
        "Year": "2016",
        "Filter": "pm"
    },
    {
        "File": "Gene.jpg",
        "Title": "Gene",
        "Caption": "Progression from unfiltered photograph to a new identity.",
        "Orientation": "landscape",
        "Year": "2016",
        "Filter": "pm"
    },
    {
        "File": "BlueTerrainDepths.jpg",
        "Title": "Blue, Terrain, Depths",
        "Caption": "Featured in the 2014 URECA Art Exhibition of Stony Brook University.",
        "Orientation": "landscape",
        "Year": "2014",
        "Filter": "pm"
    },
    {
        "File": "Womb.jpg",
        "Title": "Womb",
        "Caption": "",
        "Orientation": "square",
        "Year": "2013",
        "Filter": "pm"
    },
    {
        "File": "Bud.jpg",
        "Title": "Bud",
        "Caption": "",
        "Orientation": "square",
        "Year": "2013",
        "Filter": "pm"
    },
    {
        "File": "Conception.jpg",
        "Title": "Conception",
        "Caption": "",
        "Orientation": "portrait",
        "Year": "2012",
        "Filter": "pm"
    },
    {
        "File": "Dew.jpg",
        "Title": "Dew",
        "Caption": "",
        "Orientation": "square",
        "Year": "2013",
        "Filter": "pm"
    },
    {
        "File": "Growth.jpg",
        "Title": "Growth",
        "Caption": "",
        "Orientation": "square",
        "Year": "2013",
        "Filter": "pm"
    },
    {
        "File": "Pod.jpg",
        "Title": "Pod",
        "Caption": "",
        "Orientation": "square",
        "Year": "2013",
        "Filter": "pm"
    },

    {
        "File": "LilyGreen.jpg",
        "Title": "Lilies - Night",
        "Caption": "Used Apophysis 7x to generate fractals.",
        "Orientation": "landscape",
        "Year": "2012",
        "Filter": "pm"
    },
    {
        "File": "LilyRed.jpg",
        "Title": "Lilies - Dusk",
        "Caption": "Used Apophysis 7x to generate fractals.",
        "Orientation": "landscape",
        "Year": "2012",
        "Filter": "pm"

    },
    {
        "File": "TeaTree.jpg",
        "Title": "Tea Tree",
        "Caption": "",
        "Orientation": "square",
        "Year": "2012",
        "Filter": "pm"
    },
    {
        "File": "IMG_6083_6x8.jpg",
        "Title": "Rose Portrait",
        "Caption": "2017",
        "Orientation": "portrait",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6125_1920x1080.jpg",
        "Title": "Sunflower Seeds",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6426_1920x1080.jpg",
        "Title": "Green Leaf",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6450_1920x1080.jpg",
        "Title": "Pink Petals",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6459_1920x1080.jpg",
        "Title": "Purple Petals",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6339_1920x1080.jpg",
        "Title": "Yellow Flower",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6433_1920x1080.jpg",
        "Title": "Orange Nasturtium",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6108_1920x1080.jpg",
        "Title": "Blue Kale",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_5984_1920x1080.jpg",
        "Title": "Red Rose",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6055_1920x1080.jpg",
        "Title": "Baby Bok Choy",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6056_1920x1080.jpg",
        "Title": "White Seeds",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6571_1920x1080.jpg",
        "Title": "Bumblebee in Rose of Sharon",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "IMG_6172_1920x1080.jpg",
        "Title": "Honey Bee",
        "Caption": "",
        "Orientation": "landscape",
        "Year": "2017",
        "Filter": "ph"
    },
    {
        "File": "Horse.jpg",
        "Title": "Horse",
        "Caption": "Featured in Long Islandâ€™s Best: Young Artists at The Heckscher Museum 2013. Received Achievement Award in Digital Media and Renzo S. Bianchi Scholarship Award.",
        "Orientation": "square",
        "Year": "2013",
        "Filter": "di"

    },
    {
        "File": "PhoenixWrithing.jpg",
        "Title": "Phoenix Writhing",
        "Caption": "",
        "Orientation": "square",
        "Year": "2013",
        "Filter": "di"

    },
    {
        "File": "Depths.jpg",
        "Title": "Depths",
        "Caption": "",
        "Orientation": "square",
        "Year": "2012",
        "Filter": "di"

    },
    {
        "File": "Komainu.png",
        "Title": "Komainu",
        "Caption": "",
        "Orientation": "square",
        "Year": "2018",
        "Filter": "di"

    },
    {
        "File": "DiaemusYoungi.png",
        "Title": "Diaemus Youngi",
        "Caption": "White-winged vampire bat.",
        "Orientation": "square",
        "Year": "2018",
        "Filter": "di"

    },
    {
        "File": "NekomataRecolor.jpg",
        "Title": "Nekomata",
        "Caption": "",
        "Orientation": "square",
        "Year": "2018",
        "Filter": "di"

    },
    {
        "File": "AuNaturel.jpg",
        "Title": "Au Naturel",
        "Caption": "",
        "Orientation": "square",
        "Year": "2018",
        "Filter": "di"

    },
    {
        "File": "EasyBreezy.jpg",
        "Title": "Easy Breezy",
        "Caption": "",
        "Orientation": "square",
        "Year": "2018",
        "Filter": "di"

    },
    {
        "File": "WetNWild.jpg",
        "Title": "Wet N Wild",
        "Caption": "",
        "Orientation": "square",
        "Year": "2018",
        "Filter": "di"

    },
    {
        "File": "HotStuff.jpg",
        "Title": "Hot Stuff",
        "Caption": "",
        "Orientation": "square",
        "Year": "2018",
        "Filter": "di"

    },
    {
        "File": "PsychspaceLogo.jpg",
        "Title": "PsychSpace Logo",
        "Caption": "",
        "Orientation": "square",
        "Year": "2017",
        "Filter": "ld"

    },
    {
        "File": "Mercoon.jpg",
        "Title": "Mercoon Logo",
        "Caption": "",
        "Orientation": "square",
        "Year": "2017",
        "Filter": "ld"

    }
];


function createImage(imageData, counter) {
    var orientation = "project-feed-posts-item-image-tile";
    if (imageData.Orientation == "portrait") {
        orientation = "project-feed-posts-item-image-portrait"
    }
    var c = counter.toString();

    var imageTemplate = [
      '<div class="project-feed-posts-item ',
        imageData.Filter || '',
        '"><a class="project-feed-posts-item-link" href="#" data-toggle="modal" data-target="#ModalGallery" data-section="section-',
      c,
      '"><div class="project-feed-posts-item-media"><div class="project-feed-posts-item-image-wrapper"><img class="project-feed-posts-item-image ',
      orientation,
      '" src="assets/images/',
      imageData.File,
      '"> </div></div><div class="project-feed-posts-item-overlay"><div class="project-feed-posts-item-content"><div class="project-feed-posts-item-text">',
      imageData.Title,
      '</div></div></div></a></div>'
  ];

    // a jQuery node
    return $(imageTemplate.join(''));
}


function createGallery(galleryData, counter) {
    var c = counter.toString();

    var galleryTemplate = [
      '<div id="section-',
      c,
      '" class= "modal-section ',
        galleryData.Filter,
      '"><img src="assets/images/',
      galleryData.File,
      '" class="img-fluid" alt="',
      galleryData.File,
      '"> <div class="modal-item-content"><p><a class="italic">',
      galleryData.Title,
      ' [',
        galleryData.Year,
        '] </a>',
        galleryData.Caption,
        '</p></div></div>'
  ];

    // a jQuery node
    return $(galleryTemplate.join(''));
}

//Parse data and generate HTML for images and gallery
$(document).ready(function () {
    var images = $();
    var gallery = $();
    var counter = 0;
    // Store all the image nodes
    data.forEach(function (item, i) {
        images = images.add(createImage(item, counter));
        gallery = gallery.add(createGallery(item, counter));
        counter++;
    });

    $('#GalleryFeed').append(images);
    $('#ModalGalleryBody').append(gallery);

    // SET DEFAULTS
    $('.project-feed-posts-item').each(function (index) {
        if (!$(this).hasClass('pm')) {
            $(this).hide();
        }
    });

    $('.modal-section').each(function (index) {
        if ($(this).hasClass('pm')) {
            $(this).show();
        } else {
            $(this).hide();
        }
    });

    var filter;
});

// Filter Gallery
$(function () {
    // Change page when navigating menu
    $("#FilterGallery a").click(function () {
        filter = $(this).data("page");
        $('.project-feed-posts-item').each(function (index) {
            if ($(this).hasClass(filter)) {
                $(this).fadeIn("slow");
            } else {
                $(this).fadeOut("slow");
            }
        });

        $("#FilterGallery").each(function (index, element) {
            $(this).find("a").removeClass("nav-active");
            $(this).find("a").addClass("nav-inactive");
        });
        $(this).removeClass("nav-inactive");
        $(this).addClass("nav-active");

        //Update Modal
        $('.modal-section').each(function (index) {
            if ($(this).hasClass(filter)) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
    });
});

//Scroll To Image in Gallery
$('#ModalGallery').on('shown.bs.modal', function (event) {
    // reset the scroll to top
    $('#ModalGallery').scrollTop(0);
    // get the section using data
    var section = $(event.relatedTarget).data('section');
    // get the top of the section
    var position = $('#' + section).position();
    // scroll modal to position top
    $('#ModalGallery').animate({
            scrollTop: position.top
        },
        'slow'
    );
});
